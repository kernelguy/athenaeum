(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{246:function(t,s,e){"use strict";e.r(s);var a=e(6),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"service-providers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#service-providers"}},[t._v("#")]),t._v(" Service Providers")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#register-service-providers"}},[t._v("Register Service Providers")])]),e("li",[e("a",{attrs:{href:"#register-a-laravel-service-provider"}},[t._v("Register a Laravel Service Provider")]),e("ul",[e("li",[e("a",{attrs:{href:"#require-package"}},[t._v("Require Package")])]),e("li",[e("a",{attrs:{href:"#register-redisserviceprovider"}},[t._v("Register RedisServiceProvider")])]),e("li",[e("a",{attrs:{href:"#dealing-with-asserts"}},[t._v("Dealing with Asserts")])]),e("li",[e("a",{attrs:{href:"#usage"}},[t._v("Usage")])])])]),e("li",[e("a",{attrs:{href:"#deferred-services"}},[t._v("Deferred Services")])]),e("li",[e("a",{attrs:{href:"#limitations"}},[t._v("Limitations")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"register-service-providers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#register-service-providers"}},[t._v("#")]),t._v(" Register Service Providers")]),t._v(" "),e("p",[t._v("Just like within a regular Laravel application, you can register you service providers in the "),e("code",[t._v("providers")]),t._v(" array, located in your "),e("code",[t._v("/configs/app.php")]),t._v(". ("),e("em",[t._v("configuration path "),e("RouterLink",{attrs:{to:"/archive/current/core/integration.html"}},[t._v("can be specified")]),t._v(" in your application instance")],1),t._v(").")]),t._v(" "),e("h2",{attrs:{id:"register-a-laravel-service-provider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#register-a-laravel-service-provider"}},[t._v("#")]),t._v(" Register a Laravel Service Provider")]),t._v(" "),e("p",[t._v("When you wish to make use of a Laravel's packages, then simply require the desired package and add the service's class path inside the "),e("code",[t._v("providers")]),t._v(" array.\nThe following example take your though the steps it requires to add Laravel's "),e("a",{attrs:{href:"https://laravel.com/docs/7.x/redis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis Service"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"require-package"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#require-package"}},[t._v("#")]),t._v(" Require Package")]),t._v(" "),e("p",[t._v("Start off by requiring the package, using composer.")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("composer require illuminate/redis\n")])])]),e("h3",{attrs:{id:"register-redisserviceprovider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#register-redisserviceprovider"}},[t._v("#")]),t._v(" Register "),e("code",[t._v("RedisServiceProvider")])]),t._v(" "),e("p",[t._v("In your "),e("code",[t._v("/configs/app.php")]),t._v(", add the class path to the Redis service provider.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... previous not shown ...")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'providers'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        \\"),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Redis"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("RedisServiceProvider")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),e("h3",{attrs:{id:"dealing-with-asserts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dealing-with-asserts"}},[t._v("#")]),t._v(" Dealing with Asserts")]),t._v(" "),e("p",[t._v("Many of Laravel's packages depend on configuration files or other assets.\nUnfortunately, not all of Laravel's packages have their assets registered as publishable.\nThis means that you if you would run the "),e("code",[t._v("vendor:publish-all")]),t._v(" command, nothing would happen.\nTo resolve this, you can obtain a service's required assets manually, by coping the desired assets from Laravel's "),e("a",{attrs:{href:"https://github.com/laravel/laravel",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github Repository"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[t._v("In this example, you are required to copy the "),e("code",[t._v("database.php")]),t._v(" configuration file, from the "),e("a",{attrs:{href:"https://github.com/laravel/laravel/blob/v6.12.0/config/database.php",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("/configs")]),t._v(" directory"),e("OutboundLink")],1),t._v(" and paste into your application's "),e("code",[t._v("/configs")]),t._v(" directory.\nThis configuration file contains specific setup for the Redis service.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... previous not shown ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'redis'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'client'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_CLIENT'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'phpredis'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'options'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'cluster'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_CLUSTER'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'redis'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'prefix'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_PREFIX'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'my_application'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'default'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'url'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_URL'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'host'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_HOST'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'127.0.0.1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_PASSWORD'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'port'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_PORT'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'6379'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'database'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'REDIS_DB'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'0'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... Remaining not shown ...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("Caution")]),t._v(" "),e("p",[t._v("Please make sure the assets that you copy, match the required package's version.\nOtherwise you risk incompatibility and undesirable behaviour.")])]),t._v(" "),e("h3",{attrs:{id:"usage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),e("p",[t._v("Once the Redis service has been registered, you can use it within your application.")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$redis")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'redis'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$redis")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'my_key'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'my_value'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("The "),e("a",{attrs:{href:"container"}},[t._v("next chapter")]),t._v(" contains more information and examples on how to obtain registered services ("),e("em",[t._v("e.g. bindings")]),t._v(").")]),t._v(" "),e("h2",{attrs:{id:"deferred-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deferred-services"}},[t._v("#")]),t._v(" Deferred Services")]),t._v(" "),e("p",[t._v("The Athenaeum Core Application also supports "),e("a",{attrs:{href:"https://laravel.com/docs/7.x/providers#deferred-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("deferred providers"),e("OutboundLink")],1),t._v(".\nOnce registered, the services that are marked deferred, will only be registered and booted when required.\nConsult yourself with Laravel's "),e("a",{attrs:{href:"https://laravel.com/docs/7.x/providers#deferred-providers",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation"),e("OutboundLink")],1),t._v(" for additional information.")]),t._v(" "),e("h2",{attrs:{id:"limitations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limitations"}},[t._v("#")]),t._v(" Limitations")]),t._v(" "),e("p",[t._v("Unlike a regular Laravel application, the Athenaeum Core Application does not cache it's resolved list of service providers.\nThis means that in terms of performance, this application isn't as fast as Laravel.\nCurrently, there are no plans to offer enhancements of this particular part of the application.\nShould this prove to be a problem for you, then consider "),e("a",{attrs:{href:"ext"}},[t._v("extending the Athenaeum Core Application")]),t._v(" and overwrite the service provider registration and booting logic.")])])}),[],!1,null,null,null);s.default=r.exports}}]);